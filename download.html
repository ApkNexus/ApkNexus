<!DOCTYPE html>
<html lang="es">
<head>
  <script type='text/javascript' src='//begband.com/4a/0b/00/4a0b001688a2f98a66e8771d3e82a972.js'></script>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Descarga - APK Nexus</title>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0d0d0d;
      color: #eee;
      margin: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      background-color: rgba(17, 17, 17, 0.95);
      padding: 20px;
      font-size: 1.6rem;
      color: #00ffaa;
      font-weight: bold;
      box-shadow: 0 2px 15px rgba(0, 255, 170, 0.2);
      position: sticky;
      top: 0;
      backdrop-filter: blur(8px);
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .back-btn {
      position: absolute;
      left: 15px;
      text-decoration: none;
      color: #00ffaa;
      font-weight: bold;
      background: rgba(0, 255, 170, 0.1);
      padding: 8px 15px;
      border-radius: 10px;
      transition: 0.3s;
      font-size: 1rem;
      line-height: 1;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .back-btn svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: #00ffaa;
      stroke-width: 2.2;
      transition: 0.3s;
    }

    .back-btn:hover {
      background: rgba(0, 255, 170, 0.3);
      transform: translateX(-3px);
    }

    main {
      text-align: center;
      padding: 40px 20px;
    }

    h1 {
      color: #00ffaa;
      text-shadow: 0 0 8px #00ffaa;
      margin-bottom: 10px;
    }

    p {
      color: #bbb;
      margin-bottom: 20px;
      font-size: 1.05rem;
    }

    /* --- Caja de anuncios simétrica --- */
    .ads {
      margin: 20px auto;
      padding: 20px;
      background: linear-gradient(180deg, #141414, #111111);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,255,170,0.08);
      max-width: 600px;
      cursor: pointer;

      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 260px; /* asegura simetría entre los banners */
    }

    .ads > div,
    .ads iframe {
      display: block;
      margin: 0 auto;
      text-align: center;
    }

    /* --- Contador --- */
    .counter {
      font-size: 3rem;
      margin: 30px 0;
      color: #ffcc00;
      font-weight: bold;
      text-shadow: 0 0 12px rgba(255, 204, 0, 0.6);
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* --- Botón de descarga --- */
    .btn-download {
      display: inline-block;
      padding: 14px 28px;
      background: #00ffaa;
      color: #0d0d0d;
      font-weight: bold;
      border-radius: 12px;
      text-decoration: none;
      box-shadow: 0 0 20px rgba(0,255,170,0.4);
      transition: 0.3s;
      pointer-events: none;
      opacity: 0.6;
    }

    .btn-download.active {
      pointer-events: auto;
      opacity: 1;
      animation: glow 1s infinite alternate;
    }

    @keyframes glow {
      from { box-shadow: 0 0 20px rgba(0,255,170,0.4); }
      to { box-shadow: 0 0 40px rgba(0,255,170,0.8); }
    }

    footer {
      margin-top: 40px;
      color: #777;
      font-size: 0.9rem;
      text-align: center;
      padding: 20px;
      border-top: 1px solid #1f1f1f;
    }
  </style>
</head>

<body>

<header>
  <a id="backBtn" href="#" class="back-btn">
    <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
    Volver
  </a>
  <span>APK Nexus</span>
</header>

<main>
  <h1>Preparando tu descarga...</h1>
  <p><strong>Haz clic en un anuncio para desbloquear el contador.</strong></p>

  <!-- ANUNCIO SUPERIOR (Native Banner) -->
  <div class="ads" id="adTop">
    <div>
      <script async data-cfasync="false" src="//begband.com/2bba90bff7c358e09d2f7fea459ba548/invoke.js"></script>
      <div id="container-2bba90bff7c358e09d2f7fea459ba548"></div>
    </div>
  </div>

  <div class="counter" id="counter">7</div>

  <a id="downloadBtn" class="btn-download">⬇ Descargar APK</a>

  <!-- ANUNCIO INFERIOR (Banner 300x250) -->
  <div class="ads" id="adBottom">
    <div>
      <script type="text/javascript">
        atOptions = {
          'key' : 'de2a06d42d114df20a9155b8d28fa448',
          'format' : 'iframe',
          'height' : 250,
          'width' : 300,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//begband.com/de2a06d42d114df20a9155b8d28fa448/invoke.js"></script>
    </div>
  </div>
</main>

<footer>© 2025 APK Nexus — Todos los derechos reservados</footer>

<script>
  const params = new URLSearchParams(window.location.search);
  const url = params.get('url');
  const appId = params.get('id');

  let timeLeft = 7;
  const counter = document.getElementById('counter');
  const btn = document.getElementById('downloadBtn');
  const backBtn = document.getElementById('backBtn');

  if (appId) {
    backBtn.href = `app.html?id=${encodeURIComponent(appId)}`;
  } else {
    backBtn.addEventListener('click', (e) => {
      e.preventDefault();
      if (document.referrer) {
        history.back();
      } else {
        window.location.href = 'index.html';
      }
    });
  }

  function startCountdown() {
    const interval = setInterval(() => {
      timeLeft--;
      counter.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(interval);
        btn.classList.add('active');
        btn.href = url;
        counter.textContent = "¡Listo!";
      }
    }, 1000);
  }

  const startOnClick = () => {
    if (timeLeft === 7) startCountdown();
  };

  document.getElementById("adTop").addEventListener("click", startOnClick);
  document.getElementById("adBottom").addEventListener("click", startOnClick);
</script>

</body>
</html>
